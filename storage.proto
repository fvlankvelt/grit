edition = "2023";

package storage;

/**
 * Field order also determines key sorting.
 * Keys are sorted bytewise, which should work out fine for protobuf since fields are serialized sequentially.
 */
message VertexKey {
    string type = 1;
    int64 id = 2;
}

message IndexKey {
    string label = 1;
    VertexKey vertex = 2;
}

enum Direction {
    IN = 0;
    OUT = 1;
}

message EdgeKey {
    VertexKey vertex = 1;
    string label = 2;
    Direction direction = 3;
    VertexKey other = 4;
}

/**
 * Querying prefixes
 */
message VertexByType {
    string type = 1;
}

message IndexVertexByType {
    string label = 1;
    VertexByType vertexByType = 2;
}

message EdgeByLabel {
    VertexKey vertex = 1;
    string label = 2;
    Direction direction = 3;
}